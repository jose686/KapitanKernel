<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Editar Bloque ' + ${bloqueAEditar.idBloque}"></title>
    <link rel="stylesheet" th:href="@{/css/style.css}">

</head>
<body>

<div th:insert="~{layout/menu :: main-menu}"></div>

<div class="admin-layout">
    <div th:insert="~{layout/admin_menu :: admin-sidebar}"></div>

    <main class="admin-content">
        <h1>Editar Bloque de Contenido</h1>

        <div class="form-section">
            <h2 th:text="'Bloque ID: ' + ${bloqueAEditar.idBloque} + ' (Tipo: ' + ${bloqueAEditar.tipoBloque} + ')'"></h2>
            <p>Perteneciente al Post ID: <span th:text="${idPost}"></span></p>

            <form th:action="@{/posts/{idPost}/bloques/{idBloque}/editar(idPost=${idPost}, idBloque=${bloqueAEditar.idBloque})}"
                  th:object="${bloqueAEditar}"
                  method="post"
                  class="standard-form">

                <input type="hidden" name="_method" value="PUT" />

                <label for="tipoBloque">Tipo de Bloque:</label>
                <select id="tipoBloque" th:field="*{tipoBloque}" required>
                    <option th:each="tipo : ${T(com.laboratoriodecodigo.modelo.blog.TipoBloque).values()}"
                            th:value="${tipo}"
                            th:text="${tipo}">
                        TEXTO
                    </option>
                </select>

                <label for="contenido">Contenido:</label>
                <textarea id="contenido" th:field="*{contenido}" rows="10" required class="large-textarea"></textarea>

                <label for="orden">Orden en el Post:</label>
                <input type="number" id="orden" th:field="*{orden}" required>

                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                <a th:href="@{/posts/{idPost}/bloques(idPost=${idPost})}" class="btn btn-secondary">Cancelar</a>
            </form>
        </div>
    </main>
</div>
</body>
</html>